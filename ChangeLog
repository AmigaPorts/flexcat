-------------------------------
FlexCat Open Source - Changelog
-------------------------------

$Id$
$URL$

2010-06-29  Jens Langner <Jens.Langner@light-speed.de>

    * Makefile, tools/mkrelease.sh: more fixed to the Makefile to make it work
      with the global makefile and use the right lowercase "flexcat" command.

2010-06-29 Thore Böckelmann <tboeckel@gmx.de>

    * catalogs/FlexCat.cd: fixed some inconsistencies with some warnings and
      error messages.
    * Makefile: excluded the greek and turkish translations from the build
      process for the moment as they have displaced translations.
    * scanct.c: slightly obfuscated the version cookie check to avoid having
      multiple version cookies in the final executable.
    * main.c, version.h: added proper version cookie for all executables.
    * Makefile, catalogs/norwegian.ct: fixed norwegian translation and added it
      to the build process.
    * misc: added necessary stuff for an automated build for all supported
      platforms.
    * dist/Install: added Installer script.
    * added toplevel Makefile.

2010-06-28 Thore Böckelmann <tboeckel@gmx.de>

    * catalogs/german.ct: fixed some translation quirks.
    * scanct.c: implemented a simple placeholder check. FlexCat will now check
      for matching, missing and excessive placeholders, but only the very first
      character after the '%' sign will be checked. This fixes bug #747911.
    * catalogs/german.ct: updated german translation.

2010-06-27 Thore Böckelmann <tboeckel@gmx.de>

    * utils.c: simplified catalog flushing a lot by simply calling
      RemLibrary(LocaleBase) while locale.library is still opened.

2010-06-26  Jens Langner <Jens.Langner@light-speed.de>

    * Makefile: renamed the build target to the lowercase "flexcat" string
      so that the usage of flexcat with case sensitive file systems is more
      clear.

2010-06-25  Mariusz Danilewicz <mandi@interia.pl>

    * catalogs\polish.ct: updated the existing Polish catalog translation

2010-06-25 Thore Böckelmann <tboeckel@gmx.de>

    * scanct.c, catalogs/FlexCat.cd: implemented a simple version string check.
      The version must start with "$VER:" to be accepted. This fixes #747906.
    * all translations: removed trailing spaces. These are now handled by the
      code itself.
    * all translations: updated all identifiers to the new naming scheme.
    * Makefile: added rule to generate all catalogs.
    * scanct.c: fixed detection of "## codeset" command to correctly recognize
      missing codeset information. This fixes bug #747907.
    * locale.c: updated to latest generated version.

2010-06-24 Thore Böckelmann <tboeckel@gmx.de>

    * scanct.c: fixed a double free() in case the .ct file contained no traling
      empty line.
    * utils.c: replaced the malloc/strncpy combination by a realloc call.
    * utils.c: the expunge code will now correctly call the Expunge() function
      of locale.library for AmigaOS4, too. This fixes bug #1730644.
    * utils.c: removed the brain dead FreeMem(AllocMem(allyoucanget)) approach
      to expunge locale.library from memory.
    * Makefile: the .o files and the final binary are now placed into system
      specific directories to be able to build FlexCat for multiple platforms
      at the same time.
    * openlibs.c, vastubs.c, main.c: made FlexCat (cross)compilable for AmigaOS3
      again.
    * lib/NoAutoC_c.sd: fixed a warning for the OS3 build.
    * getft.c: don't use deprecated functions in the OS4 build anymore.
    * scanct.c, utils.c: use the GETINTERFACE() and DROPINTERFACE() macros for
      all OS4 stuff.
    * utils.c: fixed wrong jump table offsets for the Expunge() vector.

2010-06-01  Mariusz Danilewicz <mandi@interia.pl>

    * polish.ct: updated the existing Polish catalog translation

2007-12-13  Vit Sindlar <sindlarv at centrum dot cz>

    * czech.ct: updated the existing Czech catalog translation

2007-12-04  David Rey <tactica@users.sourceforge.net>

    * Makefile: made it more readable and also accept "powerpc" again in
      addition to "ppc" from "uname -m" for backwards compatibility.
    * showfuncs.c, showfuncs.h: added ShowErrorQuick() function to show
      errors omitting any line number.
    * scancd.c: now uses ShowErrorQuick() to complain about a missing
      catalog description file.
    * scanct.c: likewise to complain about a missing catalog translation
      file; now also detects an empty, missing or bad "## codeset" header,
      and a missing version; also added some debug output.
    * catalogs/FlexCat.cd: added new errors to suit.

2007-05-16  Joerg Strohmayer <nospam@gmx.de>

    * scancd.c: Ignores commands "printf_check_off" and "printf_check_on".

2007-05-07  Joerg Strohmayer <nospam@gmx.de>

    * Hardcode_c.sd and locale_other.c: Added missing const from patch
      #1713307.
    * Makefile: Fixed uname check, uname -m returns ppc, not powerpc, on
      AmigaOS4.

2007-01-21  Jens Langner <Jens.Langner@light-speed.de>

    * Makefile: adapted makefile to carry a DEBUG= option for compiling
      flexcat without any debugging enabled at all. Also added the "-m32" gcc
      option to the unix builds so that a 32bit version of flexcat will be
      generated. We somehow still have problems on getting correct
      catalog files generated when creating them with a 64bit flexcat.
    * flexcat.h, misc: introduced own portable datatype definitions like
      uint32,int32 and so on. These should help to nail down existing problems
      when building flexcat on 64bit system where e.g. long is defined as a
      64bit value. Adapted all 'unsigned long' and similar 64bit usages to
      use these new types instead.
    * scanct.c: fixed bug #752031 where a NULL pointer exception caused
      a crash when the COPYMSGNEW option was used under certain circumstances.

2007-01-07  David Rey <tactica@users.sourceforge.net>

    * scancd.c, scanct.c: the following events are now handled as
      errors instead of mere warnings:
      - Unexpected blanks (possibly caused by broken syntax)
      - Extra characters at the end of the line
      - Duplicated or conflicting ##version, ##language, ##name and ##rcsid
        commands
      - Missing brackets
      - Duplicated ID numbers and identifiers
    * createcatsrc.c: likewise with binary characters in string type None
    * utils.c: ditto with unexpected stuff instead of hex/octal characters
    * scanct.c: now also exits with an error if the codeset is declared
      twice, also fixed memory leak ('line' counter was never freed) and
      added support for the full 32bit codeset range as supported by
      AmigaOS 4
    * showfuncs.c: errors are now as verbose as warnings are
    * FlexCat.cd: added MSG_ERR_DOUBLECTCODESET & MSG_ERR_ERROR to suit
    * FlexCat_cat.h, FlexCat_cat_other.h, locale.c, locale_other.c:
      regenerated

2007-01-06  David Rey <tactica@users.sourceforge.net>

    * scanct.c: now exits with an error if the ##language command contains
      non-alphabetical characters, at least for AmigaOS (fixes bug #747909),
      and also checks properly for trailing ellipsis in both catalog
      description and translation files (fixes bug #747904).
      Thanks to Vicente "Ami603" Gimeno for his help!
    * FlexCat.cd: added two additional strings to suit
    * Makefile: fixed the paths added recently to keep make happy,
      replaced -g with -ggdb, now generates all the auto-generated
      files from FlexCat.cd no matter what the host platform is.
    * FlexCat_cat.h, FlexCat_cat_other.h, locale.c, locale_other.c:
      regenerated

2007-01-01  David Rey <tactica@users.sourceforge.net>

    * ChangeLog: replaced "Source" with "URL" keyword for SVN
    * gpl.txt: renamed as COPYING
    * developer.readme: renamed as README
    * todo: renamed as TODO
    * misc: rearranged the whole directory hierarchy
    * Makefile: modified to suit the changes in the directory layout,
      dropped the removal of m68k specific builds from the "clean" target
      (this belongs to the smakefile), added removal of the guide files
      to it, and added a "realclean" one which additionally removes the
      autogenerated headers
    * createcat.c, createcat.h, createcatsrc.c, createcatsrc.h, createct.c,
      createct.h, flexcat.h, getft.c, globals.c, globals.h, main.c,
      readprefs.c, readprefs.h, scancd.c, scancd.h, scanct.c, scanct.h,
      showfuncs.c, showfuncs.h, swapfuncs.c, swapfuncs.h, utils.c, utils.h:
      updated copyright notice (2006->2007)
    * NoAutoC_c.sd, NoAutoC_h.sd: added the missing Id keyword for SVN
    * Cat2h_c.sd: removed some empty lines and moved ##stringtype to the
      beginning to make it consistent with the other source descriptors.
    * AmigaOberon.sd: replaced the copyright symbol with something
      friendly with all charsets
    * ARexx.sd: replaced germanisms with English text
    * AutoC_c.sd, C++_h.sd, C_c.sd, C_c_V20.sd: better English comments now
    * Hardcode_c.sd: updated copyright notice (2006->2007) and fixed some
      typos
    * Oberon-A.sd: typos fixed
    * Minor changes in most source descriptors to make them more consistent
    * scanct.c: now checks for trailing spaces added in the translation, too
      (fixes bug #747905)
    * FlexCat.cd: added new error string to match the new feature
    * FlexCat_cat.h, FlexCat_cat_other.h, locale.c, locale_other.c:
      regenerated

2006-12-31  Joerg Strohmayer <nospam@gmx.de>

    * Makefile, flexcat.h: Several flexcat->FlexCat changes to be able to
      build on case sensitive file systems, renamed flexcat_cat(_other).h
      to FlexCat_cat(_other).h for the same reason.


--- Sources moved to SubVersion ---


2006-12-30  David Rey <tactica@users.sourceforge.net>

    * scancd.c, scanct.c: they now take a '#' in the first column of a
      line as command introducer and skip any blank spaces, tabs and
      further '#' symbols found afterwards to be compatible with CatComp
      (fixes bug #1473677)
    * FlexCat.cd: removed MSG_ERR_NOCTCOMMAND, now obsoleted by this change
    * Makefile, createcat.c, createcat.h, createcatsrc.c, createcatsrc.h,
      createct.c, createct.h, flexcat.h, getft.c, globals.h, main.c,
      readprefs.h, scancd.c, scancd.h, scanct.c, scanct.h, showfuncs.c,
      showfuncs.h, swapfuncs.h, utils.c, utils.h: removed C++ style comments
      and made some other minor adjustments
    * flexcat_cat.h, flexcat_cat_other.h, locale.c, locale_other.c:
      regenerated

2006-12-27  David Rey <tactica@users.sourceforge.net>

    * FlexCat.cd: converted all identifiers to use only uppercase letters,
      renamed some to make them more descriptive, renamed all MSG_WARN_#?
      identifiers as MSG_ERR_#?, then put them all together starting
      from slot 100.
    * createcat.c, createcatsrc.c, createct.c, main.c, readprefs.c,
      scancd.c, scanct.c, showfuncs.c, utils.c: modified to suit
    * flexcat_cat_other.h, flexcat_cat.h, locale.c, locale_other.c:
      regenerated

2006-12-26  David Rey <tactica@users.sourceforge.net>

    * createcat.c, createct.c, main.c, readprefs.c, readprefs.h,
      utils.c, FlexCat.cd: completely removed support for the NOSPACE
      and NOAUTODATE switches.
    * Makefile: now generates "FlexCat", not "flexcat".
    * flexcat_cat.h, flexcat_cat_other.h, locale_other.c, locale.c:
      regenerated.

2006-12-25  David Rey <tactica@users.sourceforge.net>

    * Makefile: now detects AmigaOS 4 automatically and doesn't need
      "OS=AmigaOS4" anymore (thanks to Henning Nielsen Lund for the
      patch), "clean" also removes the m68k specific builds (and
      patches) and the AmigaOS 4 build uses -lunix to support UNIX
      style paths
    * getft.c: fixed the remaining warning (Henning again)
    * createcat.c: now always generates 4-digit years
    * createct.c: no longer forces a local codeset while updating an
      old translation on a system using locale.library V47 or newer
      (fixes bug #1367295)
    * scancd.c: added "#array" to the ignore list (fixes bug #1204131)

2006-12-24  David Rey <tactica@users.sourceforge.net>

    * in: removed, no use for it

2006-11-23  David Rey <tactica@users.sourceforge.net>

    * Makefile: added "-Wall -Wwrite-strings" to the default CFLAGS,
      also added explicitly the native MorphOS GCC to the MorphOS build
      process, and the AmigaOS/m68k GCC to the original AmigaOS build,
      plus the missing getft.o object and "-DNO_INLINE_STDARG" as CFLAGS to
      the latter, thanks to Joachim Birging and Henning Nielsen Lund for
      the patches.
    * getft.c: replaced the reference to ZERO with NULL for compatibility
      (again Joachim)

2006-11-01  David Rey <tactica@users.sourceforge.net>

    * Makefile: now builds with recent versions of GCC for OS4
      (-newlib -> -mcrt=newlib), supports crosscompilers for
      this target, added -Wall -Wwrite-strings to the CFLAGS for
      the OS4 target.
      (Patch #1588835 from Henning Nielsen Lund <hnl_dk@users.sourceforge.net>)
    * createcat.c, createcatsrc.c, createct.c, flexcat.h, getft.c, globals.c,
      readprefs.c, scancd.c, scanct.c, utils.c: no longer throw warnings with
      -Wwrite-strings
      (same patch)
    * flexcat.h: modified version string to mark the current build as a
      development version
    * lib/NoAutoC_c.sd, lib/NoAutoC_h.sd: fixed -Wwrite-strings warnings
      in the auto-generated files.
      (Patch #1588907 from Henning Nielsen Lund <hnl_dk@users.sourceforge.net>)
    * locale.c, flexcat_cat.h: regenerated

2006-03-25  David Rey <tactica@users.sourceforge.net>

    * todo: translated the Polish bits to English thanks to the
      help of Mariusz Danilewicz, also updated it in the process.

2006-03-24  David Rey <tactica@users.sourceforge.net>

    * createct.c: the "## version" header in translations generated
      with the NEWCTFILE switch no longer contains "<name.ct>", but
      "<name.catalog>" for compatibility with other compilers (fixes
      bug #778520); as well, we now generate years properly instead
      of 2-digit ones.
    * FlexCat.¶, FlexCatFinal.¶, FlexCatPPC.¶: removed

2006-03-20  David Rey <tactica@users.sourceforge.net>

    * createcat.c, createcat.h, createcatsrc.c, createcatsrc.h,
      createct.c, createct.h, flexcat.h, getft.c, globals.c, globals.h,
      main.c, readprefs.c, readprefs.h, scancd.c, scancd.h, scanct.c,
      scanct.h, showfuncs.c, showfuncs.h, swapfuncs.c, swapfuncs.h,
      utils.c, utils.h: updated copyright notices, unified formatting
      and comments style where appropriate, fixed some harmless
      typos, dropped all the tabs spotted in the process
    * flexcat.h: now creates a 99% correct AmigaOS version string
    * lib/Hardcode_c.sd: updated copyright notice

2006-03-19  Jens Langner <Jens.Langner@light-speed.de>

    * main.c: fixed a bug in the 'BaseName' stripping routines. When a
      *.cd file was specified with a path (e.g. './test.cd') then the
      basename was found to be '/test' instead of 'test'.
    * createcatsrc.c: fixed two minor memory leaks where we forgot to
      free the resulsts of AllocFileName()

2005-04-28  David Rey <tactica@users.sourceforge.net>

    * utils.c, makefile: added new AmigaOS 4 target.
      (Patch #1190521 from Juha Niemimaki <capehill@users.sourceforge.net>)
    * ChangeLog: added
